<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>web components</title>
    <script src="dist/quick.js"></script>
    <style>
        body {
            padding: 50px;
        }

        quick-button {
            display: inline-block;
            margin: 5px;
        }

        quick-checkbox {
            margin-right: 10px;
        }
    </style>
</head>

<body>
    <quick-field label="用户名" name="username" maxlength="10" required></quick-field>
    <quick-field type="password" label="密码" name="password"></quick-field>
    <quick-field label="年龄" name="age" data-rule="integer(2)" data-message="请输入整数"></quick-field>
    <quick-calendar label="生日" name="birthday" value="2023-01-05"></quick-calendar>

    <quick-field label="是否学生"><quick-switch name="isStudent"></quick-switch></quick-field>
    <quick-field label="兴趣爱好" variant="tonal">
        <quick-checkbox name="hobby" value="football">足球</quick-checkbox>
        <quick-checkbox name="hobby" value="basketball" checked>篮球</quick-checkbox>
        <quick-checkbox name="hobby" value="pingpong" id="pp">乒乓球</quick-checkbox>
    </quick-field>

    <quick-select label="手机品牌" name="brand" multiple="5">
        <option></option>
        <option value="1">iPhone</option>
        <option value="2" disabled>Oppo</option>
        <option value="3">Huawei</option>
        <option value="4" selected>Xiaomi</option>
        <option value="5">Windows</option>
        <option value="6">Google</option>
        <option value="7" disabled>Nokia</option>
        <option value="8">HTC</option>
        <option value="9">Samsang</option>
        <option value="0">TCL</option>
    </quick-select>

    <quick-upload label="合同附件" variant="tonal" accept="image/*" multiple="5" maxsize="20000240" editable></quick-upload>
    <quick-field label="备注">
        <div contenteditable="plaintext-only" name="remark" tabindex="0"></div>
    </quick-field>

    <br>
    <quick-button variant="tonal warning" onclick="post(this)">提交数据</quick-button>
    <quick-button onclick="Quick.alert('你好，世界')">Alert</quick-button>
    <quick-button onclick="confirm()" variant="danger outlined">Confirm</quick-button>
    <quick-button onclick="dialog.open()">Dialog</quick-button>
    <quick-button onclick="Quick.info('捷克的角色可弗拉斯的')" tooltip="间客房送拉将卡洛斯的">Info</quick-button>
    <quick-button onclick="Quick.warning('捷克的角色可弗拉斯的')">Warning</quick-button>
    <quick-button onclick="Quick.error('捷克的角色可弗拉斯的')">Error</quick-button>
    <quick-button onclick="Quick.success('捷克的角色可弗拉斯的')">Success</quick-button>
    <quick-button onclick="this.loading=true">Loading</quick-button>

    <br><br>
    <table class="list">
        <tr>
            <th>表头1</th>
            <th>表头2</th>
            <th>表头3</th>
        </tr>
        <tr>
            <td>1</td>
            <td>2</td>
            <td>3</td>
        </tr>
        <tr>
            <td>4</td>
            <td>5</td>
            <td>6</td>
        </tr>
    </table>

    <div style="height:1000px"></div>

    <quick-dialog>
        <h1 style="margin-top:0">的萨菲</h1>
        <div>积分赛打开了几法</div>
    </quick-dialog>

    <quick-toptray></quick-toptray>
</body>

</html>

<script>
    const ff = document.querySelector('quick-upload');

    function post(btn) {
        const data = Quick.form.getJsonObject('body');
        if (!data) return;
        data.attachments = ff.entries;
        console.log(data);

        btn.loading = true;
        setTimeout(() => {
            btn.loading = false;
        }, 2000);
    }

    const uploader = document.querySelector('quick-upload');
    uploader.entries = [{
        _id: 'a-1',
        previewUrl: 'http://baidu.com',
        downloadUrl: 'http://baidu.com',
        originalName: '经发卡笋了了的萨.jpg'
    }, {
        _id: 'a-2',
        previewUrl: 'http://baidu.com',
        downloadUrl: 'http://baidu.com',
        originalName: '卡拉萨擦丝的.xlsx'
    }, {
        _id: 'a-3',
        previewUrl: 'http://baidu.com',
        downloadUrl: 'http://baidu.com',
        originalName: '精彩卡斯了多次精彩了.xlsx'
    }];
    uploader.onUpload = async function (entry) {
        await delay(500);
        console.log('Upload success---------', entry)
    }
    uploader.onRemove = async function (entry) {
        await delay(500);
        console.log('Remove success---------', entry)
    }

    const dialog = document.querySelector('quick-dialog');
    dialog.buttons = ['关闭', {
        label: '确定',
        primary: true,
        onclick: async (self) => {
            await delay(500);
            console.log('ok');
        }
    }];

    function confirm() {
        Quick.confirm('确定删除吗？', function (self) {
            console.log(self, this);
        });
    }

    function delay(delayInms) {
        return new Promise(resolve => setTimeout(resolve, delayInms));
    }
</script>